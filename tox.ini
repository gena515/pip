[tox]
envlist =
    docs,lint,py33-lint,py26,py27,py32,py33,py34,pypy

[testenv]
deps = -r{toxinidir}/requirements.d/dev.txt
commands =
    py.test --timeout 300 []

[testenv:docs]
deps = sphinx
basepython = python2.7
commands =
    sphinx-build -W -b html -d {envtmpdir}/doctrees docs docs/_build/html

[testenv:lint]
basepython = python2.7
deps = -r{toxinidir}/requirements.d/lint.txt
commands =
    {toxinidir}/.travis/lint.sh

[testenv:py33-lint]
basepython = python3.4
deps = -r{toxinidir}/requirements.d/lint.txt
commands =
    {toxinidir}/.travis/lint.sh

[flake8]
exclude = .tox,*.egg,build,_vendor,data
select = E,W,F
