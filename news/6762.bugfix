Fail without collecting and downloading packages if user doesn't have write permissions.
* fixed linting issue in #6800