Improve handling of PEP 518 build requirements: support environment markers and extras.
